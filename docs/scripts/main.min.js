/*! For license information please see main.min.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/scripts/Products.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n// fetch("http://localhost:1337/api/products")\r\n//   .then((response) => {\r\n//     return response.json();\r\n//   })\r\n//   .then((data) => {\r\n//     console.log(data);\r\n//   });\r\n\r\n// https://fakestoreapi.com/products?limit=5\r\n\r\nlet globalData;\r\n\r\nasync function getProducts() {\r\n  fetch("http://localhost:1337/api/products?populate=image")\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      globalData = data;\r\n    });\r\n}\r\n\r\nfunction createProductList(globalData) {\r\n  const productList = document.getElementById("product-list");\r\n  if (productList) {\r\n    productList.replaceChildren();\r\n\r\n    globalData.data.forEach((element) => {\r\n      const item = document.createElement("li");\r\n      item.classList.add("productions__item");\r\n      item.innerHTML =\r\n        `<article class="product">\r\n<div class="badge ` +\r\n        element.attributes.badge +\r\n        ` aria-label="Promotion: discount on goods">\r\n    <p class="badge__text">` +\r\n        element.attributes.badgeText +\r\n        `</p>\r\n</div>\r\n\r\n<div class="product__carousel">\r\n    <div class="swiper product__swiper">\r\n        <button class="search" aria-label="scale image">\r\n            <img src="img/magnifying-glass.svg" alt="search icon">\r\n        </button>\r\n        <div class="swiper-wrapper">\r\n        </div>\r\n\r\n        <div class="swiper-button-prev"></div>\r\n        <div class="swiper-button-next"></div>\r\n    </div>\r\n</div>\r\n\r\n<div class="product__content">\r\n    <div class="product__text">\r\n        <h3 class="product__title">` +\r\n        element.attributes.category +\r\n        `</h3>\r\n        <p class="product__article">00` +\r\n        element.id +\r\n        `</p>\r\n        <p class="product__discription"> ` +\r\n        element.attributes.name +\r\n        `</p>\r\n    </div>\r\n\r\n    <div class="product__info">\r\n        <div class="weight">\r\n            <img class="weight__icon" src="img/food-scale-tool.svg" alt="weight icon">\r\n            <p class="weight__number">Масса: <span class="weight__number_accent"> ` +\r\n        element.attributes.weight +\r\n        `</span></p>\r\n        </div>\r\n        <div class="package">\r\n            <img class="package__icon" src="img/package-icon.svg" alt="weight icon">\r\n            <p class="package__type">Упаковка <span class="package__type_accent">` +\r\n        element.attributes.packageType +\r\n        `</span></p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="product__price">\r\n        <div class="price">\r\n            <p class="price__number"><span class="price__number_text">Цена:</span><span\r\n                    class="price__number_accent price__number_from">` +\r\n        (element.attributes.from ? "от" : "") +\r\n        `</span> <span\r\n                    class="price__number_current">` +\r\n        element.attributes.currentPrice +\r\n        ` </span><span\r\n                    class="price__number_accent">` +\r\n        element.attributes.currency +\r\n        `</span>\r\n                <span class="price__number_total">` +\r\n        (element.attributes.price ? element.attributes.price : "") +\r\n        ` <span class="price__number_muted">` +\r\n        (element.attributes.price ? element.attributes.currency : "") +\r\n        `</span></span>\r\n            </p>\r\n        </div>\r\n\r\n        <button class="action-btn" aria-lable="buy" aria-description="buy product">Купить</button>\r\n    </div>\r\n</div>\r\n</article>`;\r\n      productList.appendChild(item);\r\n\r\n      element.attributes.image.data.forEach((element) => {\r\n        const carouselItem = document.createElement("div");\r\n        if (carouselItem) {\r\n          carouselItem.classList.add("swiper-slide");\r\n          carouselItem.innerHTML =\r\n            `<img class="product__image" src="` +\r\n            "http://localhost:1337" +\r\n            element.attributes.url +\r\n            `" alt="product image">`;\r\n          item\r\n            .querySelector(".product__carousel .swiper-wrapper")\r\n            .appendChild(carouselItem);\r\n        }\r\n      });\r\n    });\r\n\r\n    initSlider();\r\n  }\r\n}\r\n\r\nfunction createProductPage(element) {\r\n  const productItem = document.getElementById("mainProduct");\r\n  if (productItem) {\r\n    productItem.replaceChildren();\r\n\r\n    const product = document.createElement("article");\r\n    product.classList.add("mainProduct__wrap");\r\n    product.innerHTML =\r\n      `<div class="product__carousel">\r\n        <div class="swiper product__swiper">\r\n            <button class="search" aria-label="scale image">\r\n                <img src="./img/magnifying-glass.svg" alt="search icon">\r\n            </button>\r\n            <div class="swiper-wrapper">\r\n\r\n            </div>\r\n\r\n            <div class="swiper-button-prev"></div>\r\n            <div class="swiper-button-next"></div>\r\n        </div>\r\n    </div>\r\n    <div class="mainProduct__discription">\r\n                    <div class="mainProduct__type-wrap">\r\n                        <p class="mainProduct__type">` +\r\n      element.attributes.category +\r\n      `</p>\r\n                        <p class="mainProduct__article">Арт: 00` +\r\n      element.id +\r\n      `</p>\r\n                    </div>\r\n\r\n                    <h2 class="mainProduct__name">` +\r\n      element.attributes.name +\r\n      `</h2>\r\n      <div class="mainProduct__infoList">\r\n                        <div class="mainProduct-infoItem">\r\n    <h3 class="mainProduct-infoItem__caption">Состав:</h3>\r\n    <p class="mainProduct-infoItem__text">` +\r\n      element.attributes.consist +\r\n      `</p>\r\n</div>\r\n\r\n                        <div class="mainProduct-infoItem">\r\n    <h3 class="mainProduct-infoItem__caption">Масса нетто:</h3>\r\n    <p class="mainProduct-infoItem__text">` +\r\n      element.attributes.weight +\r\n      `г.</p>\r\n</div>\r\n\r\n                        <div class="mainProduct-infoItem">\r\n    <h3 class="mainProduct-infoItem__caption">Энергетическая ценность:</h3>\r\n    <p class="mainProduct-infoItem__text">` +\r\n      element.attributes.calorie +\r\n      ` Ккал.</p>\r\n</div>\r\n\r\n                        <div class="mainProduct-infoItem">\r\n    <h3 class="mainProduct-infoItem__caption">Срок годности:</h3>\r\n    <p class="mainProduct-infoItem__text">` +\r\n      element.attributes.term +\r\n      ` месяцев, с даты расфасовки (указана на упаковке)</p>\r\n</div>\r\n                    </div>\r\n                    <div class="mainProduct__alert">\r\n                    <div class="alert__icon">\r\n                        <img src="img/exclamation point.svg" alt="exclamation point icon">\r\n                    </div>\r\n\r\n                    <p class="alert__text">` +\r\n      element.attributes.keeping +\r\n      `</p>\r\n                </div>\r\n\r\n                <div class="product__price">\r\n                <div class="price">\r\n                <p class="price__number"><span class="price__number_text">Цена:</span><span\r\n                        class="price__number_accent price__number_from">` +\r\n      (element.attributes.from ? "от" : "") +\r\n      `</span> <span\r\n                        class="price__number_current">` +\r\n      element.attributes.currentPrice +\r\n      ` </span><span\r\n                        class="price__number_accent">` +\r\n      element.attributes.currency +\r\n      `</span>\r\n                    <span class="price__number_total">` +\r\n      (element.attributes.price ? element.attributes.price : "") +\r\n      ` <span class="price__number_muted">` +\r\n      (element.attributes.price ? element.attributes.currency : "") +\r\n      `</span></span>\r\n                </p>\r\n            </div>\r\n\r\n                        <button class="action-btn" aria-lable="order" aria-description="order product">Заказать</button>\r\n                    </div>\r\n                    </div>\r\n    `;\r\n\r\n    productItem.appendChild(product);\r\n\r\n    element.attributes.image.data.forEach((element) => {\r\n      const carouselItem = document.createElement("div");\r\n      if (carouselItem) {\r\n        carouselItem.classList.add("swiper-slide");\r\n        carouselItem.innerHTML =\r\n          `<img class="product__image" src="` +\r\n          "http://localhost:1337" +\r\n          element.attributes.url +\r\n          `" alt="product image">`;\r\n        productItem\r\n          .querySelector(".product__carousel .swiper-wrapper")\r\n          .appendChild(carouselItem);\r\n      }\r\n    });\r\n    initSlider();\r\n  }\r\n}\r\n\r\ngetProducts();\r\n\r\nfunction initSlider() {\r\n  const productSwiper = new Swiper(".product__swiper", {\r\n    navigation: {\r\n      nextEl: ".swiper-button-next",\r\n      prevEl: ".swiper-button-prev",\r\n    },\r\n    observer: true,\r\n    observeParents: true,\r\n    observeSlideChildren: true,\r\n  });\r\n\r\n  if ($(".product__image")) {\r\n    $(".product__image").mouseleave(function () {\r\n      for (let index = 0; index < $(".product__image").length; index++) {\r\n        $(".product__image")[index].classList.remove("scale");\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst longPollCallback = () => {\r\n  if (globalData) {\r\n    // console.log(globalData);\r\n    createProductList(globalData);\r\n    createProductPage(globalData.data[0]);\r\n  } else {\r\n    setTimeout(longPollCallback, 500);\r\n  }\r\n};\r\nsetTimeout(longPollCallback, 500);\r\n\n\n//# sourceURL=webpack://gulp-start/./src/scripts/Products.js?')},"./src/scripts/counter.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\nif ($(".number-counter")) {\r\n}\r\n\r\nfunction counter() {\r\n  $(".number-counter .minus").click(function () {\r\n    var $input = $(this).parent().find("input");\r\n    var count = parseInt($input.val()) - 1;\r\n    count = count < 1 ? 1 : count;\r\n    $input.val(count);\r\n    $input.change();\r\n    return false;\r\n  });\r\n  $(".number-counter .plus").click(function () {\r\n    var $input = $(this).parent().find("input");\r\n    $input.val(parseInt($input.val()) + 1);\r\n    $input.change();\r\n    return false;\r\n  });\r\n}\r\n\r\n$(document).ready(function () {\r\n  counter();\r\n});\r\n\n\n//# sourceURL=webpack://gulp-start/./src/scripts/counter.js?')},"./src/scripts/main.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ "./src/scripts/modules/functions.js");\n\r\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n$(document).ready(function () {\r\n  if ($(".burger-btn")) {\r\n    $(".burger-btn").click(function (event) {\r\n      $(".burger-btn,.burger__menu").toggleClass("show");\r\n    });\r\n  }\r\n\r\n  if ($(".menu__list")) {\r\n    $(".menu__list")[0]\r\n      .querySelectorAll(".menu__item")\r\n      .forEach((el) => {\r\n        el.classList.remove("active");\r\n      });\r\n    const pageNmae = location.href.split("/").pop().split(".").shift();\r\n    if ($(".menu__list #" + pageNmae)[0]) {\r\n      $(".menu__list #" + pageNmae)[0].classList.add("active");\r\n    }\r\n  }\r\n});\r\n\r\nif (document.getElementById("play-btn")) {\r\n  // document.getElementById("play-btn").onclick = function (event) {\r\n  //   fadeImage(event);\r\n  // };\r\n\r\n  // function fadeImage(event) {\r\n  //   document.getElementById("poster-image").style.zIndex = "0";\r\n  //   document.getElementById("video").style.zIndex = "30";\r\n  // }\r\n\r\n  const video = document.querySelectorAll(".video__button");\r\n\r\n  video.forEach((el) =>\r\n    el.addEventListener("click", (event) => {\r\n      event.currentTarget.parentElement.parentElement.getElementsByTagName(\r\n        "iframe"\r\n      )[0].style.zIndex = "40";\r\n    })\r\n  );\r\n}\r\n\r\n// window.addEventListener("load", (event) => {\r\n//   console.log("page is fully loaded");\r\n// });\r\n\r\nif ($(".search")) {\r\n  $(document).on("click", ".search", function (target) {\r\n    // $(".search").click(function (target) {\r\n    // target.currentTarget.parentElement.id\r\n    $(\r\n      "#" +\r\n        target.currentTarget.parentElement.getElementsByTagName("div")[0].id +\r\n        " " +\r\n        ".swiper-slide-active .product__image"\r\n    ).toggleClass("scale");\r\n  });\r\n\r\n  if ($(".product__image")) {\r\n    $(".product__image").mouseleave(function () {\r\n      for (let index = 0; index < $(".product__image").length; index++) {\r\n        $(".product__image")[index].classList.remove("scale");\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nif ($(".tabs-navigation__item")) {\r\n  $(".tabs-navigation__item").click(function (el) {\r\n    console.log(el.currentTarget.getAttribute("name"));\r\n\r\n    var i, tabcontent, tablinks;\r\n\r\n    tabcontent = document.getElementsByClassName("tabs__item");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].style.display = "none";\r\n    }\r\n    tablinks = document.getElementsByClassName("tabs-navigation__item");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(" active", "");\r\n    }\r\n\r\n    document.getElementById(\r\n      el.currentTarget.getAttribute("name")\r\n    ).style.display = "flex";\r\n\r\n    el.currentTarget.className += " active";\r\n  });\r\n}\r\n\r\nif ($(".pay-tabs-navigation__item")) {\r\n  $(".pay-tabs-navigation__item").click(function (el) {\r\n    console.log(el.currentTarget.getAttribute("name"));\r\n\r\n    var i, tabcontent, tablinks;\r\n\r\n    tabcontent = document.getElementsByClassName("pay-tabs__item");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].style.display = "none";\r\n    }\r\n    tablinks = document.getElementsByClassName("pay-tabs-navigation__item");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(" active", "");\r\n    }\r\n\r\n    document.getElementById(\r\n      el.currentTarget.getAttribute("name")\r\n    ).style.display = "flex";\r\n\r\n    el.currentTarget.className += " active";\r\n  });\r\n}\r\n\r\nif ($(".mainProduct-Info__item")) {\r\n  $(".mainProduct-Info__item").click(function (el) {\r\n    console.log(el.currentTarget.getAttribute("name"));\r\n\r\n    var i, tabcontent, tablinks;\r\n\r\n    tabcontent = document.getElementsByClassName("tab__item");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].style.display = "none";\r\n    }\r\n    tablinks = document.getElementsByClassName("mainProduct-Info__item");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(" active", "");\r\n    }\r\n\r\n    document.getElementById(\r\n      el.currentTarget.getAttribute("name")\r\n    ).style.display = "flex";\r\n\r\n    el.currentTarget.className += " active";\r\n  });\r\n}\r\n\r\nif (document.getElementById("legalPerson")) {\r\n  document.getElementById("legalPerson").addEventListener("click", (event) => {\r\n    // console.log($(".naturalPerson__dop")[0]);\r\n    $(".naturalPerson__dop")[0].style.display = "none";\r\n    $(".legalPerson__dop")[0].style.display = "block";\r\n  });\r\n}\r\n\r\nif (document.getElementById("naturalPerson")) {\r\n  document\r\n    .getElementById("naturalPerson")\r\n    .addEventListener("click", (event) => {\r\n      // console.log($(".naturalPerson__dop")[0]);\r\n      $(".naturalPerson__dop")[0].style.display = "block";\r\n      $(".legalPerson__dop")[0].style.display = "none";\r\n    });\r\n}\r\n\r\nif ($("#FOP-radio")[0]) {\r\n  $("#FOP-radio")[0].addEventListener("change", (event) => {\r\n    $(".legalPerson__dop_legal")[0].style.display = "none";\r\n    $(".legalPerson__dop_FOP")[0].style.display = "block";\r\n  });\r\n}\r\n\r\nif ($("#legalPerson-radio")[0]) {\r\n  $("#legalPerson-radio")[0].addEventListener("change", (event) => {\r\n    $(".legalPerson__dop_FOP")[0].style.display = "none";\r\n    $(".legalPerson__dop_legal")[0].style.display = "block";\r\n  });\r\n}\r\n\r\nif ($(".basket")) {\r\n  Array.from($(".basket")).forEach((element) => {\r\n    element.addEventListener("click", (event) => {\r\n      $(".basket__pop-up")[0].classList.toggle("show");\r\n    });\r\n  });\r\n}\r\n\r\nconst videoSwiper = new Swiper(".video__carousel", {\r\n  // slidesPerView: "auto",\r\n\r\n  navigation: {\r\n    nextEl: ".video__swiper-button-next",\r\n    prevEl: ".video__swiper-button-prev",\r\n  },\r\n  // effect: "slide",\r\n});\r\n\r\nconst newsSwiper = new Swiper(".news__carousel", {\r\n  // slidesPerView: 3,\r\n  spaceBetween: 30,\r\n  navigation: {\r\n    nextEl: ".news-next",\r\n    prevEl: ".news-prev",\r\n  },\r\n\r\n  breakpoints: {\r\n    300: {\r\n      slidesPerView: 1,\r\n    },\r\n    620: {\r\n      slidesPerView: 1.5,\r\n    },\r\n    900: {\r\n      slidesPerView: 2,\r\n    },\r\n    1300: {\r\n      slidesPerView: 3,\r\n    },\r\n  },\r\n});\r\n\r\nconst productSwiper = new Swiper(".product__swiper", {\r\n  navigation: {\r\n    nextEl: ".swiper-button-next",\r\n    prevEl: ".swiper-button-prev",\r\n  },\r\n  observer: true,\r\n  observeParents: true,\r\n  observeSlideChildren: true,\r\n});\r\n\n\n//# sourceURL=webpack://gulp-start/./src/scripts/main.js?')},"./src/scripts/modules/functions.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "isWebp": () => (/* binding */ isWebp)\n/* harmony export */ });\nfunction isWebp() {\r\n  function testWebP(callback) {\r\n    var webP = new Image();\r\n    webP.onload = webP.onerror = function () {\r\n      callback(webP.height == 2);\r\n    };\r\n    webP.src =\r\n      "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";\r\n  }\r\n\r\n  testWebP(function (support) {\r\n    if (support == true) {\r\n      document.querySelector("html").classList.add("webp");\r\n    } else {\r\n      document.querySelector("html").classList.add("no-webp");\r\n    }\r\n\r\n    // let className = support === true ? \'webp\' : \'no-webp\';\r\n    // document.documentElement.classList.add(className);\r\n  });\r\n}\r\n\n\n//# sourceURL=webpack://gulp-start/./src/scripts/modules/functions.js?')}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(n,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},__webpack_require__("./src/scripts/counter.js"),__webpack_require__("./src/scripts/main.js");var __webpack_exports__=__webpack_require__("./src/scripts/Products.js")})();
(()=>{"use strict";var e,t;$(".number-counter"),$(document).ready((function(){$(".number-counter .minus").click((function(){var e=$(this).parent().find("input"),t=parseInt(e.val())-1;return t=t<1?1:t,e.val(t),e.change(),!1})),$(".number-counter .plus").click((function(){var e=$(this).parent().find("input");return e.val(parseInt(e.val())+1),e.change(),!1}))})),e=function(e){1==e?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$(document).ready((function(){if($(".burger-btn")&&$(".burger-btn").click((function(e){$(".burger-btn,.burger__menu").toggleClass("show")})),$(".menu__list")){$(".menu__list")[0].querySelectorAll(".menu__item").forEach((e=>{e.classList.remove("active")}));const e=location.href.split("/").pop().split(".").shift();$(".menu__list #"+e)[0]&&$(".menu__list #"+e)[0].classList.add("active")}})),document.getElementById("play-btn")&&document.querySelectorAll(".video__button").forEach((e=>e.addEventListener("click",(e=>{e.currentTarget.parentElement.parentElement.getElementsByTagName("iframe")[0].style.zIndex="40"})))),$(".search")&&($(document).on("click",".search",(function(e){$("#"+e.currentTarget.parentElement.getElementsByTagName("div")[0].id+" .swiper-slide-active .product__image").toggleClass("scale")})),$(".product__image")&&$(".product__image").mouseleave((function(){for(let e=0;e<$(".product__image").length;e++)$(".product__image")[e].classList.remove("scale")}))),$(".tabs-navigation__item")&&$(".tabs-navigation__item").click((function(e){var t,n,a;for(console.log(e.currentTarget.getAttribute("name")),n=document.getElementsByClassName("tabs__item"),t=0;t<n.length;t++)n[t].style.display="none";for(a=document.getElementsByClassName("tabs-navigation__item"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");document.getElementById(e.currentTarget.getAttribute("name")).style.display="flex",e.currentTarget.className+=" active"})),$(".pay-tabs-navigation__item")&&$(".pay-tabs-navigation__item").click((function(e){var t,n,a;for(console.log(e.currentTarget.getAttribute("name")),n=document.getElementsByClassName("pay-tabs__item"),t=0;t<n.length;t++)n[t].style.display="none";for(a=document.getElementsByClassName("pay-tabs-navigation__item"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");document.getElementById(e.currentTarget.getAttribute("name")).style.display="flex",e.currentTarget.className+=" active"})),$(".mainProduct-Info__item")&&$(".mainProduct-Info__item").click((function(e){var t,n,a;for(console.log(e.currentTarget.getAttribute("name")),n=document.getElementsByClassName("tab__item"),t=0;t<n.length;t++)n[t].style.display="none";for(a=document.getElementsByClassName("mainProduct-Info__item"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");document.getElementById(e.currentTarget.getAttribute("name")).style.display="flex",e.currentTarget.className+=" active"})),document.getElementById("legalPerson")&&document.getElementById("legalPerson").addEventListener("click",(e=>{$(".naturalPerson__dop")[0].style.display="none",$(".legalPerson__dop")[0].style.display="block"})),document.getElementById("naturalPerson")&&document.getElementById("naturalPerson").addEventListener("click",(e=>{$(".naturalPerson__dop")[0].style.display="block",$(".legalPerson__dop")[0].style.display="none"})),$("#FOP-radio")[0]&&$("#FOP-radio")[0].addEventListener("change",(e=>{$(".legalPerson__dop_legal")[0].style.display="none",$(".legalPerson__dop_FOP")[0].style.display="block"})),$("#legalPerson-radio")[0]&&$("#legalPerson-radio")[0].addEventListener("change",(e=>{$(".legalPerson__dop_FOP")[0].style.display="none",$(".legalPerson__dop_legal")[0].style.display="block"})),$(".basket")&&Array.from($(".basket")).forEach((e=>{e.addEventListener("click",(e=>{$(".basket__pop-up")[0].classList.toggle("show")}))})),new Swiper(".video__carousel",{navigation:{nextEl:".video__swiper-button-next",prevEl:".video__swiper-button-prev"}}),new Swiper(".news__carousel",{spaceBetween:30,navigation:{nextEl:".news-next",prevEl:".news-prev"},breakpoints:{300:{slidesPerView:1},620:{slidesPerView:1.5},900:{slidesPerView:2},1300:{slidesPerView:3}}}),new Swiper(".product__swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0,observeParents:!0,observeSlideChildren:!0}),(()=>{let e;function t(){new Swiper(".product__swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0,observeParents:!0,observeSlideChildren:!0}),$(".product__image")&&$(".product__image").mouseleave((function(){for(let e=0;e<$(".product__image").length;e++)$(".product__image")[e].classList.remove("scale")}))}!async function(){fetch("http://localhost:1337/api/products?populate=image").then((e=>e.json())).then((t=>{e=t}))}();const n=()=>{e?(function(e){const n=document.getElementById("product-list");n&&(n.replaceChildren(),e.data.forEach((e=>{const t=document.createElement("li");t.classList.add("productions__item"),t.innerHTML='<article class="product">\n<div class="badge '+e.attributes.badge+' aria-label="Promotion: discount on goods">\n    <p class="badge__text">'+e.attributes.badgeText+'</p>\n</div>\n\n<div class="product__carousel">\n    <div class="swiper product__swiper">\n        <button class="search" aria-label="scale image">\n            <img src="img/magnifying-glass.svg" alt="search icon">\n        </button>\n        <div class="swiper-wrapper">\n        </div>\n\n        <div class="swiper-button-prev"></div>\n        <div class="swiper-button-next"></div>\n    </div>\n</div>\n\n<div class="product__content">\n    <div class="product__text">\n        <h3 class="product__title">'+e.attributes.category+'</h3>\n        <p class="product__article">00'+e.id+'</p>\n        <p class="product__discription"> '+e.attributes.name+'</p>\n    </div>\n\n    <div class="product__info">\n        <div class="weight">\n            <img class="weight__icon" src="img/food-scale-tool.svg" alt="weight icon">\n            <p class="weight__number">Масса: <span class="weight__number_accent"> '+e.attributes.weight+'</span></p>\n        </div>\n        <div class="package">\n            <img class="package__icon" src="img/package-icon.svg" alt="weight icon">\n            <p class="package__type">Упаковка <span class="package__type_accent">'+e.attributes.packageType+'</span></p>\n        </div>\n    </div>\n\n    <div class="product__price">\n        <div class="price">\n            <p class="price__number"><span class="price__number_text">Цена:</span><span\n                    class="price__number_accent price__number_from">'+(e.attributes.from?"от":"")+'</span> <span\n                    class="price__number_current">'+e.attributes.currentPrice+' </span><span\n                    class="price__number_accent">'+e.attributes.currency+'</span>\n                <span class="price__number_total">'+(e.attributes.price?e.attributes.price:"")+' <span class="price__number_muted">'+(e.attributes.price?e.attributes.currency:"")+'</span></span>\n            </p>\n        </div>\n\n        <button class="action-btn" aria-lable="buy" aria-description="buy product">Купить</button>\n    </div>\n</div>\n</article>',n.appendChild(t),e.attributes.image.data.forEach((e=>{const n=document.createElement("div");n&&(n.classList.add("swiper-slide"),n.innerHTML='<img class="product__image" src="http://localhost:1337'+e.attributes.url+'" alt="product image">',t.querySelector(".product__carousel .swiper-wrapper").appendChild(n))}))})),t())}(e),function(e){const n=document.getElementById("mainProduct");if(n){n.replaceChildren();const a=document.createElement("article");a.classList.add("mainProduct__wrap"),a.innerHTML='<div class="product__carousel">\n        <div class="swiper product__swiper">\n            <button class="search" aria-label="scale image">\n                <img src="./img/magnifying-glass.svg" alt="search icon">\n            </button>\n            <div class="swiper-wrapper">\n\n            </div>\n\n            <div class="swiper-button-prev"></div>\n            <div class="swiper-button-next"></div>\n        </div>\n    </div>\n    <div class="mainProduct__discription">\n                    <div class="mainProduct__type-wrap">\n                        <p class="mainProduct__type">'+e.attributes.category+'</p>\n                        <p class="mainProduct__article">Арт: 00'+e.id+'</p>\n                    </div>\n\n                    <h2 class="mainProduct__name">'+e.attributes.name+'</h2>\n      <div class="mainProduct__infoList">\n                        <div class="mainProduct-infoItem">\n    <h3 class="mainProduct-infoItem__caption">Состав:</h3>\n    <p class="mainProduct-infoItem__text">'+e.attributes.consist+'</p>\n</div>\n\n                        <div class="mainProduct-infoItem">\n    <h3 class="mainProduct-infoItem__caption">Масса нетто:</h3>\n    <p class="mainProduct-infoItem__text">'+e.attributes.weight+'г.</p>\n</div>\n\n                        <div class="mainProduct-infoItem">\n    <h3 class="mainProduct-infoItem__caption">Энергетическая ценность:</h3>\n    <p class="mainProduct-infoItem__text">'+e.attributes.calorie+' Ккал.</p>\n</div>\n\n                        <div class="mainProduct-infoItem">\n    <h3 class="mainProduct-infoItem__caption">Срок годности:</h3>\n    <p class="mainProduct-infoItem__text">'+e.attributes.term+' месяцев, с даты расфасовки (указана на упаковке)</p>\n</div>\n                    </div>\n                    <div class="mainProduct__alert">\n                    <div class="alert__icon">\n                        <img src="img/exclamation point.svg" alt="exclamation point icon">\n                    </div>\n\n                    <p class="alert__text">'+e.attributes.keeping+'</p>\n                </div>\n\n                <div class="product__price">\n                <div class="price">\n                <p class="price__number"><span class="price__number_text">Цена:</span><span\n                        class="price__number_accent price__number_from">'+(e.attributes.from?"от":"")+'</span> <span\n                        class="price__number_current">'+e.attributes.currentPrice+' </span><span\n                        class="price__number_accent">'+e.attributes.currency+'</span>\n                    <span class="price__number_total">'+(e.attributes.price?e.attributes.price:"")+' <span class="price__number_muted">'+(e.attributes.price?e.attributes.currency:"")+'</span></span>\n                </p>\n            </div>\n\n                        <button class="action-btn" aria-lable="order" aria-description="order product">Заказать</button>\n                    </div>\n                    </div>\n    ',n.appendChild(a),e.attributes.image.data.forEach((e=>{const t=document.createElement("div");t&&(t.classList.add("swiper-slide"),t.innerHTML='<img class="product__image" src="http://localhost:1337'+e.attributes.url+'" alt="product image">',n.querySelector(".product__carousel .swiper-wrapper").appendChild(t))})),t()}}(e.data[0])):setTimeout(n,500)};setTimeout(n,500)})()})();